{
    "title": "Personal rules (@tekezo)",
    "rules": [
        {
            "description": "Launcher Mode v3 and Mouse Keys Mode v3 (rev 13)",
            "manipulators": [

                <%# -------------------------------------------------- %>
                <%# Change spacebar,left_command,right_command %>
                <%# -------------------------------------------------- %>

                {
                    "type": "basic",
                    "from": <%= from("spacebar", ["option"], ["any"]) %>,
                    "to": <%= to([["spacebar"]]) %>
                },
                {
                    "type": "basic",
                    "from": <%= from("spacebar", [], ["any"]) %>,
                    "to": <%= to([["left_shift"]]) %>,
                    "to_after_key_up": [
                        { "set_variable": { "name": "launcher_mode_v3", "value": 0 } },
                        { "set_variable": { "name": "mouse_keys_mode_v3", "value": 0 } },
                        { "set_variable": { "name": "mouse_keys_mode_v3_scroll", "value": 0 } }
                    ],
                    "to_if_alone": <%= to([["spacebar"]]) %>
                },

                <%# ------------------------------- %>
                <%# right_command rules %>

                <%# left_shift+right_command %>

                {
                    "type": "basic",
                    "from": <%= from("right_command", ["left_shift"], ["caps_lock"]) %>,
                    "to": [
                        {
                            "key_code": "right_control",
                            "modifiers": [
                                "left_shift"
                            ],
                            "lazy": true
                        }
                    ],
                    "to_if_alone": [
                        { "set_variable": { "name": "launcher_mode_v3", "value": 1 } }
                    ],
                    "conditions": [
                            <%= frontmost_application_if(["remote_desktop", "virtual_machine"]) %>
                    ]
                },
                {
                    "type": "basic",
                    "from": <%= from("right_command", ["left_shift"], ["caps_lock"]) %>,
                    "to": [
                        {
                            "key_code": "right_command",
                            "modifiers": [
                                "left_shift"
                            ],
                            "lazy": true
                        }
                    ],
                    "to_if_alone": [
                        { "key_code": "lang2" },
                        { "set_variable": { "name": "launcher_mode_v3", "value": 1 } }
                    ]
                },

                <%# left_control+right_command %>

                {
                    "type": "basic",
                    "from": <%= from("right_command", ["left_control"], ["any"]) %>,
                    "to": [
                        {
                            "key_code": "right_command",
                            "modifiers": [
                                "left_control"
                            ],
                            "lazy": true
                        }
                    ],
                    "to_if_alone": <%= to([["lang1"]]) %>,
                    "conditions": [
                            <%= frontmost_application_unless(["remote_desktop", "virtual_machine"]) %>
                    ]
                },

                <%# right_command %>

                {
                    "type": "basic",
                    "from": <%= from("right_command", [], ["any"]) %>,
                    "to": [
                        {
                            "key_code": "right_control",
                            "lazy": true
                        }
                    ],
                    "conditions": [
                            <%= frontmost_application_if(["remote_desktop", "virtual_machine"]) %>
                    ]
                },
                {
                    "type": "basic",
                    "from": <%= from("right_command", [], ["any"]) %>,
                    "to": [
                        {
                            "key_code": "right_command",
                            "lazy": true
                        }
                    ]
                },


                <%# ------------------------------- %>
                <%# left_command rules %>

                <%# left_shift+left_command %>

                {
                    "type": "basic",
                    "from": <%= from("left_command", ["left_shift"], ["caps_lock"]) %>,
                    "to": [
                        {
                            "key_code": "left_control",
                            "modifiers": [
                                "left_shift"
                            ],
                            "lazy": true
                        }
                    ],
                    "to_if_alone": [
                        { "key_code": "lang2" },
                        { "set_variable": { "name": "mouse_keys_mode_v3", "value": 1 } }
                    ]
                },

                <%# right_command+left_command %>

                {
                    "type": "basic",
                    "from": <%= from("left_command", ["right_command"], ["any"]) %>,
                    "to": [
                        {
                            "key_code": "left_control",
                            "modifiers": [
                                "right_command"
                            ],
                            "lazy": true
                        }
                    ],
                    "to_if_alone": <%= to([["lang2"]]) %>
                },

                <%# left_command %>

                {
                    "type": "basic",
                    "from": <%= from("left_command", [], ["any"]) %>,
                    "to": [
                        {
                            "key_code": "left_control",
                            "lazy": true
                        }
                    ]
                },

                <%# -------------------------------------------------- %>
                <%# Launcher Mode rules %>
                <%# -------------------------------------------------- %>

                {
                    "type": "basic",
                    "conditions": [
                        { "type": "variable_if", "name": "launcher_mode_v3_tab", "value": 1 }
                    ],
                    "from": <%= from("tab", ["left_shift"], ["any"]) %>,
                    "to": <%= to([["mission_control", "left_command"]]) %>
                },
                {
                    "type": "basic",
                    "conditions": [
                        { "type": "variable_if", "name": "launcher_mode_v3", "value": 1 }
                    ],
                    "from": <%= from("tab", ["left_shift"], ["any"]) %>,
                    "to": [
                        {
                            "set_variable": {
                                "name": "launcher_mode_v3_tab",
                                "value": 1
                            }
                        }
                    ],
                    "to_delayed_action": {
                        "to_if_invoked": [
                            {
                                "set_variable": {
                                    "name": "launcher_mode_v3_tab",
                                    "value": 0
                                }
                            },
                            {
                                "key_code": "mission_control"
                            }
                        ],
                        "to_if_canceled": [
                            {
                                "set_variable": {
                                    "name": "launcher_mode_v3_tab",
                                    "value": 0
                                }
                            }
                        ]
                    }
                },
                {
                    "type": "basic",
                    "conditions": [
                        { "type": "variable_if", "name": "launcher_mode_v3", "value": 1 }
                    ],
                    "from": <%= from("grave_accent_and_tilde", ["left_shift"], ["caps_lock"]) %>,
                    "to": [
                        { "shell_command": "open -a 'iTunes.app'" }
                    ]
                },
                {
                    "type": "basic",
                    "conditions": [
                        { "type": "variable_if", "name": "launcher_mode_v3", "value": 1 }
                    ],
                    "from": <%= from("1", ["left_shift"], ["caps_lock"]) %>,
                    "to": [
                        { "shell_command": "open -a 'Xcode.app'" }
                    ]
                },
                {
                    "type": "basic",
                    "conditions": [
                        { "type": "variable_if", "name": "launcher_mode_v3", "value": 1 }
                    ],
                    "from": <%= from("q", ["left_shift"], ["caps_lock"]) %>,
                    "to": [
                        { "shell_command": "open -a 'Dictionary.app'" }
                    ]
                },
                {
                    "type": "basic",
                    "conditions": [
                        { "type": "variable_if", "name": "launcher_mode_v3", "value": 1 }
                    ],
                    "from": <%= from("i", ["left_shift"], ["caps_lock"]) %>,
                    "to": [
                        { "shell_command": "open -a 'Adium.app'" }
                    ]
                },
                {
                    "type": "basic",
                    "conditions": [
                        { "type": "variable_if", "name": "launcher_mode_v3", "value": 1 }
                    ],
                    "from": <%= from("o", ["left_shift"], ["caps_lock"]) %>,
                    "to": [
                        { "shell_command": "open -a 'Skype.app'" }
                    ]
                },
                {
                    "type": "basic",
                    "conditions": [
                        { "type": "variable_if", "name": "launcher_mode_v3", "value": 1 }
                    ],
                    "from": <%= from("a", ["left_shift"], ["caps_lock"]) %>,
                    "to": [
                        { "shell_command": "open -a 'Activity Monitor.app'" }
                    ]
                },
                {
                    "type": "basic",
                    "conditions": [
                        { "type": "variable_if", "name": "launcher_mode_v3", "value": 1 }
                    ],
                    "from": <%= from("f", ["left_shift"], ["caps_lock"]) %>,
                    "to": [
                        { "shell_command": "open -a 'Finder.app'" }
                    ]
                },
                {
                    "type": "basic",
                    "conditions": [
                        { "type": "variable_if", "name": "launcher_mode_v3", "value": 1 }
                    ],
                    "from": <%= from("j", ["left_shift"], ["caps_lock"]) %>,
                    "to": [
                        { "shell_command": "open -a 'Alfred 3.app'" }
                    ]
                },
                {
                    "type": "basic",
                    "conditions": [
                        { "type": "variable_if", "name": "launcher_mode_v3", "value": 1 }
                    ],
                    "from": <%= from("k", ["left_shift"], ["caps_lock"]) %>,
                    "to": [
                        { "shell_command": "open -a 'Emacs.app'" }
                    ]
                },
                {
                    "type": "basic",
                    "conditions": [
                        { "type": "variable_if", "name": "launcher_mode_v3", "value": 1 }
                    ],
                    "from": <%= from("l", ["left_shift"], ["caps_lock"]) %>,
                    "to": [
                        { "shell_command": "open -a 'iTerm.app'" }
                    ]
                },
                {
                    "type": "basic",
                    "conditions": [
                        { "type": "variable_if", "name": "launcher_mode_v3", "value": 1 }
                    ],
                    "from": <%= from("c", ["left_shift"], ["caps_lock"]) %>,
                    "to": [
                        { "shell_command": "open -a 'Google Chrome.app'" }
                    ]
                },
                {
                    "type": "basic",
                    "conditions": [
                        { "type": "variable_if", "name": "launcher_mode_v3", "value": 1 }
                    ],
                    "from": <%= from("m", ["left_shift"], ["caps_lock"]) %>,
                    "to": [
                        { "shell_command": "open -a 'Thunderbird.app'" }
                    ]
                },
                {
                    "type": "basic",
                    "conditions": [
                        { "type": "variable_if", "name": "launcher_mode_v3", "value": 1 }
                    ],
                    "from": <%= from("x", ["left_shift"], ["caps_lock"]) %>,
                    "to": [
                        { "shell_command": "open -a 'Microsoft Excel.app'" }
                    ]
                },
                {
                    "type": "basic",
                    "conditions": [
                        { "type": "variable_if", "name": "launcher_mode_v3", "value": 1 }
                    ],
                    "from": <%= from("p", ["left_shift"], ["caps_lock"]) %>,
                    "to": [
                        { "shell_command": "open -a 'Microsoft PowerPoint.app'" }
                    ]
                },
                {
                    "type": "basic",
                    "conditions": [
                        { "type": "variable_if", "name": "launcher_mode_v3", "value": 1 }
                    ],
                    "from": <%= from("w", ["left_shift"], ["caps_lock"]) %>,
                    "to": [
                        { "shell_command": "open -a 'Microsoft Word.app'" }
                    ]
                },
                {
                    "type": "basic",
                    "conditions": [
                        { "type": "variable_if", "name": "launcher_mode_v3", "value": 1 }
                    ],
                    "from": <%= from("e", ["left_shift"], ["caps_lock"]) %>,
                    "to": [
                        <%# Focus Eclipse Java if running.  %>
                        { "shell_command": "[ `ps -x |grep /eclipse | grep -v grep | wc -l` -ne 0 ] && open -a 'Eclipse Java.app'" }
                    ]
                },
                {
                    "type": "basic",
                    "conditions": [
                        { "type": "variable_if", "name": "launcher_mode_v3", "value": 1 }
                    ],
                    "from": <%= from("open_bracket", ["left_shift"], ["caps_lock"]) %>,
                    "to": <%= to([["f17"]]) %>
                },
                {
                    "type": "basic",
                    "conditions": [
                        { "type": "variable_if", "name": "launcher_mode_v3", "value": 1 }
                    ],
                    "from": <%= from("close_bracket", ["left_shift"], ["caps_lock"]) %>,
                    "to": <%= to([["f18"]]) %>
                },

                <%# -------------------------------------------------- %>
                <%# Remove other keys by "from": { "any": "key_code" } %>
                <%# -------------------------------------------------- %>

                {
                    "description": "drop other keys",
                    "type": "basic",
                    "conditions": [
                        { "type": "variable_if", "name": "launcher_mode_v3", "value": 1 }
                    ],
                    "from": {
                        "any": "key_code",
                        "modifiers": {
                            "mandatory": [ "left_shift" ],
                            "optional": [ "any" ]
                        }
                    },
                    "to": <%= to([["vk_none"]]) %>
                },

                <%# -------------------------------------------------- %>
                <%# Mouse Keys Mode rules %>
                <%# -------------------------------------------------- %>

                <%# scroll %>

                {
                    "type": "basic",
                    "from": <%= from("h", ["left_shift"], ["any"]) %>,
                    "to": [ { "mouse_key": { "horizontal_wheel": 32 } } ],
                    "conditions": [
                        { "type": "variable_if", "name": "mouse_keys_mode_v3", "value": 1 },
                        { "type": "variable_if", "name": "mouse_keys_mode_v3_scroll", "value": 1 }
                    ]
                },
                {
                    "type": "basic",
                    "from": <%= from("j", ["left_shift"], ["any"]) %>,
                    "to": [ { "mouse_key": { "vertical_wheel": 32 } } ],
                    "conditions": [
                        { "type": "variable_if", "name": "mouse_keys_mode_v3", "value": 1 },
                        { "type": "variable_if", "name": "mouse_keys_mode_v3_scroll", "value": 1 }
                    ]
                },
                {
                    "type": "basic",
                    "from": <%= from("k", ["left_shift"], ["any"]) %>,
                    "to": [ { "mouse_key": { "vertical_wheel": -32 } } ],
                    "conditions": [
                        { "type": "variable_if", "name": "mouse_keys_mode_v3", "value": 1 },
                        { "type": "variable_if", "name": "mouse_keys_mode_v3_scroll", "value": 1 }
                    ]
                },
                {
                    "type": "basic",
                    "from": <%= from("l", ["left_shift"], ["any"]) %>,
                    "to": [ { "mouse_key": { "horizontal_wheel": -32 } } ],
                    "conditions": [
                        { "type": "variable_if", "name": "mouse_keys_mode_v3", "value": 1 },
                        { "type": "variable_if", "name": "mouse_keys_mode_v3_scroll", "value": 1 }
                    ]
                },

                <%# pointing_motion %>

                {
                    "type": "basic",
                    "from": <%= from("h", ["left_shift"], ["any"]) %>,
                    "to": [ { "mouse_key": { "x": -1536 } } ],
                    "conditions": [ { "type": "variable_if", "name": "mouse_keys_mode_v3", "value": 1 } ]
                },
                {
                    "type": "basic",
                    "from": <%= from("j", ["left_shift"], ["any"]) %>,
                    "to": [ { "mouse_key": { "y": 1536 } } ],
                    "conditions": [ { "type": "variable_if", "name": "mouse_keys_mode_v3", "value": 1 } ]
                },
                {
                    "type": "basic",
                    "from": <%= from("k", ["left_shift"], ["any"]) %>,
                    "to": [ { "mouse_key": { "y": -1536 } } ],
                    "conditions": [ { "type": "variable_if", "name": "mouse_keys_mode_v3", "value": 1 } ]
                },
                {
                    "type": "basic",
                    "from": <%= from("l", ["left_shift"], ["any"]) %>,
                    "to": [ { "mouse_key": { "x": 1536 } } ],
                    "conditions": [ { "type": "variable_if", "name": "mouse_keys_mode_v3", "value": 1 } ]
                },

                <%# buttons %>

                {
                    "type": "basic",
                    "from": <%= from("v", ["left_shift"], ["any"]) %>,
                    "to": [ { "pointing_button": "button1" } ],
                    "conditions": [ { "type": "variable_if", "name": "mouse_keys_mode_v3", "value": 1 } ]
                },
                {
                    "type": "basic",
                    "from": <%= from("b", ["left_shift"], ["any"]) %>,
                    "to": [ { "pointing_button": "button3" } ],
                    "conditions": [ { "type": "variable_if", "name": "mouse_keys_mode_v3", "value": 1 } ]
                },
                {
                    "type": "basic",
                    "from": <%= from("n", ["left_shift"], ["any"]) %>,
                    "to": [ { "pointing_button": "button2" } ],
                    "conditions": [ { "type": "variable_if", "name": "mouse_keys_mode_v3", "value": 1 } ]
                },

                <%# controls %>

                {
                    "type": "basic",
                    "from": <%= from("f", ["left_shift"], ["any"]) %>,
                    "to": [ { "mouse_key": { "speed_multiplier": 2.0 } } ],
                    "conditions": [ { "type": "variable_if", "name": "mouse_keys_mode_v3", "value": 1 } ]
                },
                {
                    "type": "basic",
                    "from": <%= from("d", ["left_shift"], ["any"]) %>,
                    "to": [ { "mouse_key": { "speed_multiplier": 0.5 } } ],
                    "conditions": [ { "type": "variable_if", "name": "mouse_keys_mode_v3", "value": 1 } ]
                },
                {
                    "type": "basic",
                    "from": <%= from("s", ["left_shift"], ["any"]) %>,
                    "to": [
                        { "set_variable": { "name": "mouse_keys_mode_v3_scroll", "value": 1 } }
                    ],
                    "to_after_key_up": [
                        { "set_variable": { "name": "mouse_keys_mode_v3_scroll", "value": 0 } }
                    ],
                    "conditions": [ { "type": "variable_if", "name": "mouse_keys_mode_v3", "value": 1 } ]
                }
            ]
        },
        {
            "description": "Change left_control+1/2/v/q to home/end/page_down/page_up (rev 2)",
            "manipulators": [
                {
                    "type": "basic",
                    "from": <%= from("1", ["left_control"], ["any"]) %>,
                    "to": <%= to([["home"]]) %>
                },
                {
                    "type": "basic",
                    "from": <%= from("2", ["left_control"], ["any"]) %>,
                    "to": <%= to([["end"]]) %>
                },
                {
                    "type": "basic",
                    "from": <%= from("v", ["left_control"], ["any"]) %>,
                    "to": <%= to([["page_down"]]) %>
                },
                {
                    "type": "basic",
                    "from": <%= from("q", ["left_control"], ["any"]) %>,
                    "to": <%= to([["page_up"]]) %>
                }
            ]
        },
        {
            "description": "Change option+hyphen, option+equal to ----------,========== (rev 2)",
            "manipulators": [
                {
                    "type": "basic",
                    "from": <%= from("hyphen", ["option"], ["caps_lock"]) %>,
                    "to": [
                        { "key_code": "hyphen" }, { "key_code": "hyphen" },
                        { "key_code": "hyphen" }, { "key_code": "hyphen" },
                        { "key_code": "hyphen" }, { "key_code": "hyphen" },
                        { "key_code": "hyphen" }, { "key_code": "hyphen" },
                        { "key_code": "hyphen" },
                        {
                            "key_code": "hyphen",
                            "repeat": false
                        }
                    ]
                },
                {
                    "type": "basic",
                    "from": <%= from("equal_sign", ["option"], ["caps_lock"]) %>,
                    "to": <%= to([
                        ["equal_sign"], ["equal_sign"], ["equal_sign"], ["equal_sign"], ["equal_sign"],
                        ["equal_sign"], ["equal_sign"], ["equal_sign"], ["equal_sign"], ["equal_sign"],
                        ["vk_none"],
                    ]) %>
                }
            ]
        },
        {
            "description": "Configurations for apps (rev 8)",
            "manipulators": [
                <%# -------------------------------------------------- %>
                <%# remote_desktop, virtual_machine %>
                <%# -------------------------------------------------- %>

                {
                    "type": "basic",
                    "from": <%= from("h", ["left_control"], ["caps_lock", "option"]) %>,
                    "to": <%= to([["delete_or_backspace"]]) %>,
                    "conditions": [ <%= frontmost_application_if(["remote_desktop", "virtual_machine"]) %> ]
                },
                {
                    "type": "basic",
                    "from": <%= from("d", ["left_control"], ["caps_lock", "option"]) %>,
                    "to": <%= to([["delete_forward"]]) %>,
                    "conditions": [ <%= frontmost_application_if(["remote_desktop", "virtual_machine"]) %> ]
                },
                {
                    "type": "basic",
                    "from": <%= from("i", ["left_control"], ["caps_lock"]) %>,
                    "to": <%= to([["tab"]]) %>,
                    "conditions": [ <%= frontmost_application_if(["remote_desktop", "virtual_machine"]) %> ]
                },
                {
                    "type": "basic",
                    "from": <%= from("b", ["left_control"], ["caps_lock", "shift", "option"]) %>,
                    "to": <%= to([["left_arrow"]]) %>,
                    "conditions": [ <%= frontmost_application_if(["remote_desktop", "virtual_machine"]) %> ]
                },
                {
                    "type": "basic",
                    "from": <%= from("f", ["left_control"], ["caps_lock", "shift", "option"]) %>,
                    "to": <%= to([["right_arrow"]]) %>,
                    "conditions": [ <%= frontmost_application_if(["remote_desktop", "virtual_machine"]) %> ]
                },
                {
                    "type": "basic",
                    "from": <%= from("n", ["left_control"], ["caps_lock", "shift", "option"]) %>,
                    "to": <%= to([["down_arrow"]]) %>,
                    "conditions": [ <%= frontmost_application_if(["remote_desktop", "virtual_machine"]) %> ]
                },
                {
                    "type": "basic",
                    "from": <%= from("p", ["left_control"], ["caps_lock", "shift", "option"]) %>,
                    "to": <%= to([["up_arrow"]]) %>,
                    "conditions": [ <%= frontmost_application_if(["remote_desktop", "virtual_machine"]) %> ]
                },
                {
                    "type": "basic",
                    "from": <%= from("a", ["left_control"], ["caps_lock", "shift"]) %>,
                    "to": <%= to([["home"]]) %>,
                    "conditions": [ <%= frontmost_application_if(["remote_desktop", "virtual_machine"]) %> ]
                },
                {
                    "type": "basic",
                    "from": <%= from("e", ["left_control"], ["caps_lock", "shift"]) %>,
                    "to": <%= to([["end"]]) %>,
                    "conditions": [ <%= frontmost_application_if(["remote_desktop", "virtual_machine"]) %> ]
                },

                <%# -------------------------------------------------- %>
                <%# finder %>
                <%# -------------------------------------------------- %>

                {
                    "type": "basic",
                    "from": <%= from("l", ["command"], ["caps_lock"]) %>,
                    "conditions": [ <%= frontmost_application_if("finder") %> ]
                },

                <%# -------------------------------------------------- %>
                <%# terminal %>
                <%# -------------------------------------------------- %>

                {
                    "type": "basic",
                    "from": <%= from("o", ["command"], ["any"]) %>,
                    "conditions": [ <%= frontmost_application_if("terminal") %> ]
                },
                {
                    "type": "basic",
                    "from": <%= from("f", ["command"], ["any"]) %>,
                    "conditions": [ <%= frontmost_application_if("terminal") %> ]
                },
                {
                    "type": "basic",
                    "from": <%= from("f19", [], ["caps_lock"]) %>,
                    "to": <%= to([
                        ["u", ["left_control"]],
                        ["e"], ["x"], ["i"], ["t"],
                        ["return_or_enter"],
                    ]) %>,
                    "conditions": [ <%= frontmost_application_if("terminal") %> ]
                },

                <%# -------------------------------------------------- %>
                <%# browser %>
                <%# -------------------------------------------------- %>

                {
                    "type": "basic",
                    "from": <%= from("i", ["command", "shift"], ["caps_lock"]) %>,
                    "to": <%= to([["vk_none"]]) %>,
                    "conditions": [ <%= frontmost_application_if("browser") %> ]
                },
                {
                    "type": "basic",
                    "from": <%= from("a", ["left_control"], ["caps_lock", "shift"]) %>,
                    "to": <%= to([["left_arrow", ["left_command"]]]) %>,
                    "conditions": [ <%= frontmost_application_if("browser") %> ]
                },
                {
                    "type": "basic",
                    "from": <%= from("e", ["left_control"], ["caps_lock", "shift"]) %>,
                    "to": <%= to([["right_arrow", ["left_command"]]]) %>,
                    "conditions": [ <%= frontmost_application_if("browser") %> ]
                },

                <%# -------------------------------------------------- %>
                <%# others %>
                <%# -------------------------------------------------- %>

                {
                    "type": "basic",
                    "from": <%= from("q", ["command"], ["caps_lock"]) %>,
                    "conditions": [ <%= frontmost_application_if("activity_monitor") %> ]
                },

                {
                    "type": "basic",
                    "from": <%= from("w", ["command"], ["caps_lock"]) %>,
                    "conditions": [ <%= frontmost_application_if("adium") %> ]
                }
            ]
        },
        {
            "description": "Extra emacs key bindings (rev 4)",
            "manipulators": [
                {
                    "description": "Change control+u to delete-to-beginning-of-line",
                    "type": "basic",
                    "from": <%= from("u", ["control"], ["caps_lock"]) %>,
                    "to": <%= to([["a", ["left_control", "left_shift"]], ["delete_or_backspace"], ["vk_none"]]) %>,
                    "conditions": [ <%= frontmost_application_unless(["emacs", "terminal"]) %> ]
                },
                {
                    "description": "Change control+w to option+delete",
                    "type": "basic",
                    "from": <%= from("w", ["control"], ["caps_lock"]) %>,
                    "to": <%= to([["delete_or_backspace", ["left_option"]]]) %>,
                    "conditions": [ <%= frontmost_application_unless(["emacs", "terminal"]) %> ]
                },
                {
                    "description": "Change control+j to return",
                    "type": "basic",
                    "from": <%= from("j", ["control"], ["caps_lock"]) %>,
                    "to": <%= to([["return_or_enter"]]) %>
                },

                <%# in Emacs %>

                {
                    "type": "basic",
                    "from": <%= from("b", ["control"], ["caps_lock"]) %>,
                    "to": <%= to([["left_arrow"]]) %>,
                    "conditions": [ <%= frontmost_application_if(["emacs"]) %> ]
                },
                {
                    "type": "basic",
                    "from": <%= from("h", ["control"], ["caps_lock", "option"]) %>,
                    "to": <%= to([["delete_or_backspace"]]) %>,
                    "conditions": [ <%= frontmost_application_if(["emacs"]) %> ]
                },
                {
                    "type": "basic",
                    "from": <%= from("f", ["control"], ["caps_lock"]) %>,
                    "to": <%= to([["right_arrow"]]) %>,
                    "conditions": [ <%= frontmost_application_if(["emacs"]) %> ]
                },
                {
                    "type": "basic",
                    "from": <%= from("n", ["control"], ["caps_lock"]) %>,
                    "to": <%= to([["down_arrow"]]) %>,
                    "conditions": [ <%= frontmost_application_if(["emacs"]) %> ]
                },
                {
                    "type": "basic",
                    "from": <%= from("p", ["control"], ["caps_lock"]) %>,
                    "to": <%= to([["up_arrow"]]) %>,
                    "conditions": [ <%= frontmost_application_if(["emacs"]) %> ]
                }
            ]
        },
        {
            "description": "Miscellaneous configuration @tekezo (rev 2)",
            "manipulators": [
                {
                    "type": "basic",
                    "from": <%= from("tab", [], ["any"]) %>,
                    "to": <%= to([["left_command"]]) %>,
                    "to_if_alone": <%= to([["grave_accent_and_tilde", ["left_command"]]]) %>
                },
                {
                    "type": "basic",
                    "from": <%= from("f18", [], ["any"]) %>,
                    "to": <%= to([["spacebar"]]) %>
                },
                {
                    "type": "basic",
                    "from": {
                        "simultaneous": [
                            {
                                "key_code": "escape"
                            },
                            {
                                "key_code": "1"
                            }
                        ]
                    },
                    "to": [
                        {
                            "consumer_key_code": "display_brightness_decrement"
                        }
                    ]
                },
                {
                    "type": "basic",
                    "from": {
                        "simultaneous": [
                            {
                                "key_code": "escape"
                            },
                            {
                                "key_code": "2"
                            }
                        ]
                    },
                    "to": [
                        {
                            "consumer_key_code": "display_brightness_increment"
                        }
                    ]
                }
            ]
        }
    ]
}
